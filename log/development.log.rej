***************
*** 9197,9199 ****
    Parameters: {"fb_sig_time"=>"1218119530.3036", "fb_sig"=>"3e117f85eab5a4ea0245d73d61df2de4", "fb_sig_in_new_facebook"=>"1", "_method"=>"GET", "fb_sig_locale"=>"en_US", "action"=>"new", "fb_sig_position_fix"=>"1", "fb_sig_in_canvas"=>"1", "fb_sig_request_method"=>"GET", "controller"=>"attacks", "fb_sig_added"=>"0", "fb_sig_api_key"=>"e34ec276c93b8b443fd15691c57908c5"}
  Filter chain halted as [#<ActionController::Filters::ClassMethods::SymbolFilter:0x39b4864 @filter=:ensure_authenticated_to_facebook>] rendered_or_redirected.
  Completed in 0.00096 (1038 reqs/sec) | Rendering: 0.00005 (5%) | DB: 0.00000 (0%) | 200 OK [http://web1.tunnlr.com/attacks/new]
--- 9197,9419 ----
    Parameters: {"fb_sig_time"=>"1218119530.3036", "fb_sig"=>"3e117f85eab5a4ea0245d73d61df2de4", "fb_sig_in_new_facebook"=>"1", "_method"=>"GET", "fb_sig_locale"=>"en_US", "action"=>"new", "fb_sig_position_fix"=>"1", "fb_sig_in_canvas"=>"1", "fb_sig_request_method"=>"GET", "controller"=>"attacks", "fb_sig_added"=>"0", "fb_sig_api_key"=>"e34ec276c93b8b443fd15691c57908c5"}
  Filter chain halted as [#<ActionController::Filters::ClassMethods::SymbolFilter:0x39b4864 @filter=:ensure_authenticated_to_facebook>] rendered_or_redirected.
  Completed in 0.00096 (1038 reqs/sec) | Rendering: 0.00005 (5%) | DB: 0.00000 (0%) | 200 OK [http://web1.tunnlr.com/attacks/new]
+   [4;36;1mSQL (0.022968)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.000434)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000270)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000264)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000339)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000268)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000264)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000262)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000301)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000263)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000262)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000262)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000321)[0m   [0mSELECT * FROM schema_info[0m
+   [4;36;1mSQL (0.000786)[0m   [0;1m SELECT name
+  FROM sqlite_master
+  WHERE type = 'table' AND NOT name = 'sqlite_sequence'
+ [0m
+   [4;35;1mSQL (0.000337)[0m   [0mPRAGMA index_list(attacks)[0m
+   [4;36;1mSQL (0.000330)[0m   [0;1mPRAGMA index_info('index_attacks_on_defending_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000327)[0m   [0mPRAGMA index_info('index_attacks_on_attacking_user_id_and_created_at')[0m
+   [4;36;1mSQL (0.000095)[0m   [0;1mPRAGMA index_list(belts)[0m
+   [4;35;1mSQL (0.000231)[0m   [0mPRAGMA index_list(comments)[0m
+   [4;36;1mSQL (0.000329)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000095)[0m   [0mPRAGMA index_list(facebook_templates)[0m
+   [4;36;1mSQL (0.000081)[0m   [0;1mPRAGMA index_list(moves)[0m
+   [4;35;1mSQL (0.000297)[0m   [0mPRAGMA index_list(sessions)[0m
+   [4;36;1mSQL (0.000204)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
+   [4;35;1mSQL (0.000203)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
+   [4;36;1mSQL (0.000187)[0m   [0;1mPRAGMA index_list(users)[0m
+   [4;35;1mSQL (0.000183)[0m   [0mPRAGMA index_info('index_users_on_facebook_id')[0m
+   [4;36;1mSQL (0.000194)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: attacks: DROP TABLE attacks[0m
+   [4;36;1mSQL (0.003379)[0m   [0;1mCREATE TABLE attacks ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attacking_user_id" integer DEFAULT NULL, "defending_user_id" integer DEFAULT NULL, "move_id" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "hit" boolean DEFAULT NULL) [0m
+   [4;35;1mSQL (0.002116)[0m   [0mCREATE INDEX "index_attacks_on_defending_user_id_and_created_at" ON attacks ("defending_user_id", "created_at")[0m
+   [4;36;1mSQL (0.002256)[0m   [0;1mCREATE INDEX "index_attacks_on_attacking_user_id_and_created_at" ON attacks ("attacking_user_id", "created_at")[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: belts: DROP TABLE belts[0m
+   [4;36;1mSQL (0.002251)[0m   [0;1mCREATE TABLE belts ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "level" integer DEFAULT NULL, "next_belt_id" integer DEFAULT NULL, "minimum_hits" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: comments: DROP TABLE comments[0m
+   [4;36;1mSQL (0.002272)[0m   [0;1mCREATE TABLE comments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer DEFAULT NULL, "poster_id" integer DEFAULT NULL, "body" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.002708)[0m   [0mCREATE INDEX "index_comments_on_user_id_and_created_at" ON comments ("user_id", "created_at")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: facebook_templates: DROP TABLE facebook_templates[0m
+   [4;35;1mSQL (0.002363)[0m   [0mCREATE TABLE facebook_templates ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "bundle_id" varchar(255) DEFAULT NULL, "template_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: moves: DROP TABLE moves[0m
+   [4;35;1mSQL (0.002927)[0m   [0mCREATE TABLE moves ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "image_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "difficulty_level" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: sessions: DROP TABLE sessions[0m
+   [4;35;1mSQL (0.003121)[0m   [0mCREATE TABLE sessions ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar(255) NOT NULL, "data" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.003099)[0m   [0;1mCREATE INDEX "index_sessions_on_updated_at" ON sessions ("updated_at")[0m
+   [4;35;1mSQL (0.003502)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON sessions ("session_id")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: users: DROP TABLE users[0m
+   [4;35;1mSQL (0.003053)[0m   [0mCREATE TABLE users ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "facebook_id" integer(8) NOT NULL, "session_key" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "belt_id" integer DEFAULT NULL, "sensei_id" integer DEFAULT NULL, "total_hits" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.002710)[0m   [0;1mCREATE INDEX "index_users_on_facebook_id" ON users ("facebook_id")[0m
+   [4;35;1mSQL (0.003242)[0m   [0mCREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.002904)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
+   [4;35;1mSQL (0.002633)[0m   [0mUPDATE schema_info SET version = 11[0m
+   [4;36;1mSQL (0.000213)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.000283)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000184)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000178)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000179)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000176)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000178)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000177)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000177)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000177)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000178)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000186)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000241)[0m   [0mSELECT * FROM schema_info[0m
+   [4;36;1mSQL (0.000548)[0m   [0;1m SELECT name
+  FROM sqlite_master
+  WHERE type = 'table' AND NOT name = 'sqlite_sequence'
+ [0m
+   [4;35;1mSQL (0.000233)[0m   [0mPRAGMA index_list(attacks)[0m
+   [4;36;1mSQL (0.000231)[0m   [0;1mPRAGMA index_info('index_attacks_on_defending_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000227)[0m   [0mPRAGMA index_info('index_attacks_on_attacking_user_id_and_created_at')[0m
+   [4;36;1mSQL (0.000065)[0m   [0;1mPRAGMA index_list(belts)[0m
+   [4;35;1mSQL (0.000157)[0m   [0mPRAGMA index_list(comments)[0m
+   [4;36;1mSQL (0.000229)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000062)[0m   [0mPRAGMA index_list(facebook_templates)[0m
+   [4;36;1mSQL (0.000062)[0m   [0;1mPRAGMA index_list(moves)[0m
+   [4;35;1mSQL (0.000333)[0m   [0mPRAGMA index_list(sessions)[0m
+   [4;36;1mSQL (0.000565)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
+   [4;35;1mSQL (0.000169)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
+   [4;36;1mSQL (0.000161)[0m   [0;1mPRAGMA index_list(users)[0m
+   [4;35;1mSQL (0.000157)[0m   [0mPRAGMA index_info('index_users_on_facebook_id')[0m
+   [4;36;1mSQL (0.000200)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: attacks: DROP TABLE attacks[0m
+   [4;36;1mSQL (0.002419)[0m   [0;1mCREATE TABLE attacks ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attacking_user_id" integer DEFAULT NULL, "defending_user_id" integer DEFAULT NULL, "move_id" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "hit" boolean DEFAULT NULL) [0m
+   [4;35;1mSQL (0.002244)[0m   [0mCREATE INDEX "index_attacks_on_defending_user_id_and_created_at" ON attacks ("defending_user_id", "created_at")[0m
+   [4;36;1mSQL (0.002626)[0m   [0;1mCREATE INDEX "index_attacks_on_attacking_user_id_and_created_at" ON attacks ("attacking_user_id", "created_at")[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: belts: DROP TABLE belts[0m
+   [4;36;1mSQL (0.002201)[0m   [0;1mCREATE TABLE belts ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "level" integer DEFAULT NULL, "next_belt_id" integer DEFAULT NULL, "minimum_hits" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: comments: DROP TABLE comments[0m
+   [4;36;1mSQL (0.002428)[0m   [0;1mCREATE TABLE comments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer DEFAULT NULL, "poster_id" integer DEFAULT NULL, "body" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.002498)[0m   [0mCREATE INDEX "index_comments_on_user_id_and_created_at" ON comments ("user_id", "created_at")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: facebook_templates: DROP TABLE facebook_templates[0m
+   [4;35;1mSQL (0.002638)[0m   [0mCREATE TABLE facebook_templates ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "bundle_id" varchar(255) DEFAULT NULL, "template_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: moves: DROP TABLE moves[0m
+   [4;35;1mSQL (0.002805)[0m   [0mCREATE TABLE moves ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "image_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "difficulty_level" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: sessions: DROP TABLE sessions[0m
+   [4;35;1mSQL (0.002964)[0m   [0mCREATE TABLE sessions ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar(255) NOT NULL, "data" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.003147)[0m   [0;1mCREATE INDEX "index_sessions_on_updated_at" ON sessions ("updated_at")[0m
+   [4;35;1mSQL (0.003754)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON sessions ("session_id")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: users: DROP TABLE users[0m
+   [4;35;1mSQL (0.002559)[0m   [0mCREATE TABLE users ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "facebook_id" integer(8) NOT NULL, "session_key" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "belt_id" integer DEFAULT NULL, "sensei_id" integer DEFAULT NULL, "total_hits" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.002989)[0m   [0;1mCREATE INDEX "index_users_on_facebook_id" ON users ("facebook_id")[0m
+   [4;35;1mSQL (0.002953)[0m   [0mCREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.002442)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
+   [4;35;1mSQL (0.002319)[0m   [0mUPDATE schema_info SET version = 11[0m
+   [4;36;1mSQL (0.000238)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.000327)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000196)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000186)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000183)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000183)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000183)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000183)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000185)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000188)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000180)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000180)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000286)[0m   [0mSELECT * FROM schema_info[0m
+   [4;36;1mSQL (0.001034)[0m   [0;1m SELECT name
+  FROM sqlite_master
+  WHERE type = 'table' AND NOT name = 'sqlite_sequence'
+ [0m
+   [4;35;1mSQL (0.000270)[0m   [0mPRAGMA index_list(attacks)[0m
+   [4;36;1mSQL (0.000598)[0m   [0;1mPRAGMA index_info('index_attacks_on_defending_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000388)[0m   [0mPRAGMA index_info('index_attacks_on_attacking_user_id_and_created_at')[0m
+   [4;36;1mSQL (0.000099)[0m   [0;1mPRAGMA index_list(belts)[0m
+   [4;35;1mSQL (0.000227)[0m   [0mPRAGMA index_list(comments)[0m
+   [4;36;1mSQL (0.000307)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000086)[0m   [0mPRAGMA index_list(facebook_templates)[0m
+   [4;36;1mSQL (0.000091)[0m   [0;1mPRAGMA index_list(moves)[0m
+   [4;35;1mSQL (0.000288)[0m   [0mPRAGMA index_list(sessions)[0m
+   [4;36;1mSQL (0.000181)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
+   [4;35;1mSQL (0.000172)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
+   [4;36;1mSQL (0.000182)[0m   [0;1mPRAGMA index_list(users)[0m
+   [4;35;1mSQL (0.000162)[0m   [0mPRAGMA index_info('index_users_on_facebook_id')[0m
+   [4;36;1mSQL (0.000249)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: attacks: DROP TABLE attacks[0m
+   [4;36;1mSQL (0.002111)[0m   [0;1mCREATE TABLE attacks ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attacking_user_id" integer DEFAULT NULL, "defending_user_id" integer DEFAULT NULL, "move_id" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "hit" boolean DEFAULT NULL) [0m
+   [4;35;1mSQL (0.001566)[0m   [0mCREATE INDEX "index_attacks_on_defending_user_id_and_created_at" ON attacks ("defending_user_id", "created_at")[0m
+   [4;36;1mSQL (0.001695)[0m   [0;1mCREATE INDEX "index_attacks_on_attacking_user_id_and_created_at" ON attacks ("attacking_user_id", "created_at")[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: belts: DROP TABLE belts[0m
+   [4;36;1mSQL (0.001649)[0m   [0;1mCREATE TABLE belts ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "level" integer DEFAULT NULL, "next_belt_id" integer DEFAULT NULL, "minimum_hits" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: comments: DROP TABLE comments[0m
+   [4;36;1mSQL (0.001792)[0m   [0;1mCREATE TABLE comments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer DEFAULT NULL, "poster_id" integer DEFAULT NULL, "body" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.002858)[0m   [0mCREATE INDEX "index_comments_on_user_id_and_created_at" ON comments ("user_id", "created_at")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: facebook_templates: DROP TABLE facebook_templates[0m
+   [4;35;1mSQL (0.003182)[0m   [0mCREATE TABLE facebook_templates ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "bundle_id" varchar(255) DEFAULT NULL, "template_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: moves: DROP TABLE moves[0m
+   [4;35;1mSQL (0.003077)[0m   [0mCREATE TABLE moves ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "image_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "difficulty_level" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: sessions: DROP TABLE sessions[0m
+   [4;35;1mSQL (0.002154)[0m   [0mCREATE TABLE sessions ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar(255) NOT NULL, "data" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.002067)[0m   [0;1mCREATE INDEX "index_sessions_on_updated_at" ON sessions ("updated_at")[0m
+   [4;35;1mSQL (0.002086)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON sessions ("session_id")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: users: DROP TABLE users[0m
+   [4;35;1mSQL (0.001788)[0m   [0mCREATE TABLE users ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "facebook_id" integer(8) NOT NULL, "session_key" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "belt_id" integer DEFAULT NULL, "sensei_id" integer DEFAULT NULL, "total_hits" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.001927)[0m   [0;1mCREATE INDEX "index_users_on_facebook_id" ON users ("facebook_id")[0m
+   [4;35;1mSQL (0.001963)[0m   [0mCREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.001976)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
+   [4;35;1mSQL (0.001664)[0m   [0mUPDATE schema_info SET version = 11[0m
+   [4;36;1mSQL (0.000280)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.000294)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000184)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000181)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000178)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000178)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000178)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000178)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000177)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000177)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000178)[0m   [0mSELECT version FROM schema_info[0m
+   [4;36;1mSQL (0.000178)[0m   [0;1mSELECT version FROM schema_info[0m
+   [4;35;1mSQL (0.000215)[0m   [0mSELECT * FROM schema_info[0m
+   [4;36;1mSQL (0.000551)[0m   [0;1m SELECT name
+  FROM sqlite_master
+  WHERE type = 'table' AND NOT name = 'sqlite_sequence'
+ [0m
+   [4;35;1mSQL (0.000236)[0m   [0mPRAGMA index_list(attacks)[0m
+   [4;36;1mSQL (0.000230)[0m   [0;1mPRAGMA index_info('index_attacks_on_defending_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000226)[0m   [0mPRAGMA index_info('index_attacks_on_attacking_user_id_and_created_at')[0m
+   [4;36;1mSQL (0.000066)[0m   [0;1mPRAGMA index_list(belts)[0m
+   [4;35;1mSQL (0.000157)[0m   [0mPRAGMA index_list(comments)[0m
+   [4;36;1mSQL (0.000229)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id_and_created_at')[0m
+   [4;35;1mSQL (0.000061)[0m   [0mPRAGMA index_list(facebook_templates)[0m
+   [4;36;1mSQL (0.000062)[0m   [0;1mPRAGMA index_list(moves)[0m
+   [4;35;1mSQL (0.000412)[0m   [0mPRAGMA index_list(sessions)[0m
+   [4;36;1mSQL (0.000164)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
+   [4;35;1mSQL (0.000157)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
+   [4;36;1mSQL (0.000161)[0m   [0;1mPRAGMA index_list(users)[0m
+   [4;35;1mSQL (0.000157)[0m   [0mPRAGMA index_info('index_users_on_facebook_id')[0m
+   [4;36;1mSQL (0.000217)[0m   [0;1mselect sqlite_version(*)[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: attacks: DROP TABLE attacks[0m
+   [4;36;1mSQL (0.002708)[0m   [0;1mCREATE TABLE attacks ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attacking_user_id" integer DEFAULT NULL, "defending_user_id" integer DEFAULT NULL, "move_id" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "hit" boolean DEFAULT NULL) [0m
+   [4;35;1mSQL (0.002446)[0m   [0mCREATE INDEX "index_attacks_on_defending_user_id_and_created_at" ON attacks ("defending_user_id", "created_at")[0m
+   [4;36;1mSQL (0.002468)[0m   [0;1mCREATE INDEX "index_attacks_on_attacking_user_id_and_created_at" ON attacks ("attacking_user_id", "created_at")[0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: belts: DROP TABLE belts[0m
+   [4;36;1mSQL (0.002153)[0m   [0;1mCREATE TABLE belts ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "level" integer DEFAULT NULL, "next_belt_id" integer DEFAULT NULL, "minimum_hits" integer DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: comments: DROP TABLE comments[0m
+   [4;36;1mSQL (0.002704)[0m   [0;1mCREATE TABLE comments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer DEFAULT NULL, "poster_id" integer DEFAULT NULL, "body" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;35;1mSQL (0.003330)[0m   [0mCREATE INDEX "index_comments_on_user_id_and_created_at" ON comments ("user_id", "created_at")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: facebook_templates: DROP TABLE facebook_templates[0m
+   [4;35;1mSQL (0.002592)[0m   [0mCREATE TABLE facebook_templates ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "bundle_id" varchar(255) DEFAULT NULL, "template_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: moves: DROP TABLE moves[0m
+   [4;35;1mSQL (0.002735)[0m   [0mCREATE TABLE moves ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "image_name" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "difficulty_level" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: sessions: DROP TABLE sessions[0m
+   [4;35;1mSQL (0.003350)[0m   [0mCREATE TABLE sessions ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar(255) NOT NULL, "data" text DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL) [0m
+   [4;36;1mSQL (0.003247)[0m   [0;1mCREATE INDEX "index_sessions_on_updated_at" ON sessions ("updated_at")[0m
+   [4;35;1mSQL (0.003163)[0m   [0mCREATE INDEX "index_sessions_on_session_id" ON sessions ("session_id")[0m
+   [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such table: users: DROP TABLE users[0m
+   [4;35;1mSQL (0.002932)[0m   [0mCREATE TABLE users ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "facebook_id" integer(8) NOT NULL, "session_key" varchar(255) DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "belt_id" integer DEFAULT NULL, "sensei_id" integer DEFAULT NULL, "total_hits" integer DEFAULT NULL) [0m
+   [4;36;1mSQL (0.002876)[0m   [0;1mCREATE INDEX "index_users_on_facebook_id" ON users ("facebook_id")[0m
+   [4;35;1mSQL (0.003316)[0m   [0mCREATE TABLE schema_info (version integer)[0m
+   [4;36;1mSQL (0.002687)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
+   [4;35;1mSQL (0.002613)[0m   [0mUPDATE schema_info SET version = 11[0m
